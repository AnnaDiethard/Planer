<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- vanilla calendar -->
    <link href="https://cdn.jsdelivr.net/npm/vanilla-calendar-pro/build/vanilla-calendar.min.css" rel="stylesheet">
    <!-- dragula -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.css">
    <!-- rusmeteo  -->
    <link href="https://api.rusmeteo.net/service/informers/css/widget-brick.min.css" rel="stylesheet" type="text/css">
    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
    <!-- css style -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/calendar.css">
    <link rel="stylesheet" href="styles/elements.css">

</head>
<body>
    <div class="wrapper">

        <header class="header">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12 header-row">
                        <i class="fa-solid fa-genderless logo"></i>
                        <div class="links-block">
                            <a class="link-header" href="views/settings.html">settings</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="row row-content">
            <div class="col-12">
                <div class="row">
                    <div class="col-4">
                        <div class="calendar-block">
                            <div id="mainCalendar" class="shadow-class"></div>
                        </div>
                        <div class="card shadow-class">
                            <div class="card-header">
                                <p class="card-header__text">tasks</p>
                            </div>
                            <div class="card-body card-body__content">
                                <div class="card-body__header">
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link active nav-link-active" id="running-list-tab" data-bs-toggle="tab" data-bs-target="#running-list"
                                            type="button" role="tab" aria-controls="running-list" aria-selected="true">running list</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="week-planer-tab" data-bs-toggle="tab" data-bs-target="#week-planer"
                                            type="button" role="tab" aria-controls="week-planer" aria-selected="false">week planer</button>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <button class="nav-link" id="planning-tab" data-bs-toggle="tab" data-bs-target="#planning"
                                            type="button" role="tab" aria-controls="planning" aria-selected="false">planning</button>
                                        </li>
                                    </ul>
                                    <div> 
                                        <button id="addTaskToRunningList" type="button" class="btn card-body__icon-button" onclick="addTaskOpenDialog()" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="add task"><i class="fa-solid fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="card-body__body">
                                    <div class="block_left">
                                        <button id="cleanTasksToRunningList" type="button" class="btn card-body__icon-button" onclick="deleteDoneTasks()" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="delete done tasks"><i class="fa-solid fa-eraser"></i></button>
                                        <button id="deleteAllTasksToRunningList" type="button" class="btn card-body__icon-button" onclick="deleteAllTasks()" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="delete all tasks"><i class="fa-solid fa-ban"></i></button>
                                    </div>
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade show active" id="running-list" role="tabpanel" aria-labelledby="running-list-tab">
                                            <ul class="card-body__list" id="runningListCard"></ul>
                                        </div>
                                        <div class="tab-pane fade" id="week-planer" role="tabpanel" aria-labelledby="week-planer-tab">
                                            <div id="weekPlanerListCard" week-number="">
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">monday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Monday"></ul>
                                                    </div>
                                                </div>
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">tuesday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Tuesday"></ul>
                                                    </div>
                                                </div>
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">wednesday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Wednesday"></ul>
                                                    </div>
                                                </div>
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">thursday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Thursday"></ul>
                                                    </div>
                                                </div>
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">friday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Friday"></ul>
                                                    </div>
                                                </div>
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">saturday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Saturday"></ul>
                                                    </div>
                                                </div>
                                                <div class="card card_day-card">
                                                    <div class="card-header card-header_day-card">
                                                        <p class="card-header__text">sunday</p>
                                                        <div>
                                                            <button id="weekDayCardHeaderBtnOpen" onclick="expandWeekDayCard(this)"  class="card-header__icon-button"><i class="fa-solid fa-chevron-down"></i></button>
                                                            <button id="weekDayCardHeaderBtnClose" onclick="rollUpWeekDayCard(this)" class="card-header__icon-button hide-class"><i class="fa-solid fa-angle-up"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="card-body week-planer-card-body scroll-class">
                                                        <ul class="card-body__list" data-name="Sunday"></ul>
                                                    </div>
                                                </div>
                                                <div class="next-week-tasks-block scroll-class card-body">
                                                    <ul class="card-body__list" id="nextWeekTasks"></ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="planning" role="tabpanel" aria-labelledby="planning-tab">
                                            <ul class="card-body__list" id="planningListCard"></ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-8 " id="widgetBlock">
                        <div class="row weather-row" style="padding-left: 2rem;">
                            <div class="col-2 card-button-block-col">
                                <button class="btn button-dark shadow-class" id="addDateToCalendarBtn" onclick="addCalendarDateOpenDialog()">add event</button>
                                <button class="btn button-dark shadow-class" id="addWidgetBtn" onclick="addWidgetOpenDialog()">add widget</button>
                            </div>
                            <div class="col-10">
                                <div class="weather-dashboard shadow-class">
                                    <a href="https://rusmeteo.net/weather/moskva/" class="widget-brick" id="b75499d689da58d5fce2ad1837a0e347">Погода в Москве</a>
                                </div>
                            </div>
                        </div>
                        <div class="widgets-row" id="widgetsCol">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <dialog id="taskDialog" class="add-dialog" taskId="">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitleAdd">add task</h5>
                    <h5 class="modal-title hide-class" id="modalTitleEdit">edit task</h5>
                    <button type="button" class="btn card-body__icon-button" onclick="closeTaskDialog()"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <div id="taskCalendar"></div>
                    <div style="padding-inline: 1rem;">
                        <div class="block_right hide-class" style="padding-bottom: 2rem;" id="cardEditDateBlock">
                            <input type="checkbox" name="runningListRadio"  style="margin-right: 1rem;" id="deleteTaskDateCheckbox">
                            <p>delete date</p>
                        </div>
                        <div class="input-form">
                            <input type="text" id="addTaskInput" class="add-input " autocomplete="off" placeholder = "" required>
                            <label for="addTaskInput" class="add-input_label">text</label>
                            <p id="errorText" class="hide-class input-validation-message">field is required</p>
                        </div>
                        <ul class="modal-dialog-addTask">
                            <li class="runningList-li">
                                <input type="radio" name="runningListRadio" class="runningListRadio task-status-icon">
                                <span id="3" class="status-icon"><i class="fa-solid fa-hourglass-start"></i></span>
                            </li>
                            <li class="runningList-li">
                                <input type="radio" name="runningListRadio" class="runningListRadio task-status-icon">
                                <span id="2" class="status-icon"><i class="fa-solid fa-hourglass-half"></i></span>
                            </li>
                            <li class="runningList-li">
                                <input type="radio" name="runningListRadio" class="runningListRadio task-status-icon">
                                <span id="1" class="status-icon"><i class="fa-solid fa-hourglass-end"></i></span>
                            </li>
                        </ul>
                        <li class="block_right hide-class" id="cardEditStatusBlock">
                            <input type="radio" name="runningListRadio">
                            <span id="" class="status-icon"><i></i></span>
                            <p>delete status</p>
                        </li>   
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn button-dark" id="addTaskBtn">create</button>
                    <button type="button" class="btn button-dark hide-class" id="editTaskBtn">update</button>
                </div>
            </div>
        </div>
    </dialog>

    <dialog id="calendarDateDialog" class="add-dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitleAdd">add event</h5>
                    <button type="button" class="btn card-body__icon-button" onclick="closeTaskDialog()"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <div>
                        <div id="addDateCalendar"></div>
                    </div>
                    <div class="input-form-time" style="display: flex; flex-direction: row; width: 10rem;">
                        <div class="input-form" style="padding-right: 1rem;">
                            <input type="text" id="addEventInputHour" class="add-input " autocomplete="off" placeholder = "">
                            <label for="addEventInputHour" class="add-input_label">hour</label>
                        </div>
                        <div class="input-form" style="padding-right: 1rem;">
                            <input type="text" id="addEventInputMin" class="add-input " autocomplete="off" placeholder = "">
                            <label for="addEventInputMin" class="add-input_label">min</label>
                        </div>
                    </div>
                    <div class="input-form">
                        <input type="text" id="addEventInput" class="add-input " autocomplete="off" placeholder = "">
                        <label for="addEventInput" class="add-input_label">event</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn button-dark" id="addTaskBtn" onclick="createNewEvent()" data-bs-dismiss="modal">create</button>
                </div>
            </div>
        </div>
    </dialog>

    <dialog id="widgetDialog" class="add-dialog" taskId="">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitleAdd">add widget</h5>
                    <button type="button" class="btn card-body__icon-button" onclick="closeTaskDialog()"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">choose widget</button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"  id="myTab" role="tablist">
                            <li class="nav-item widget-dropdown-item" role="presentation">
                                <button class="nav-link widget-dropdown-link" id="week-plans-widget-tab" data-bs-toggle="tab" data-bs-target="#week-plans-widget"
                                type="button" role="tab" aria-controls="week-plans-widget" aria-selected="false" onclick="cleanWidgetCard()">week planer</button>
                            </li>
                            <li class="nav-item widget-dropdown-item" role="presentation">
                                <button class="nav-link widget-dropdown-link" id="list-widget-tab" data-bs-toggle="tab" data-bs-target="#list-widget"
                                type="button" role="tab" aria-controls="list-widget" aria-selected="false" onclick="cleanWidgetCard()">list</button>
                            </li>
                            <!-- <li class="nav-item widget-dropdown-item" role="presentation">
                                <button class="nav-link widget-dropdown-link" id="traker-tab" data-bs-toggle="tab" data-bs-target="#traker"
                                type="button" role="tab" aria-controls="traker" aria-selected="false" onclick="cleanWidgetCard()">трекер</button>
                            </li> -->
                        </ul>
                    </div>
                    <div class="tab-content widget-content" id="widgetContent">
                        <div class="tab-pane fade" id="week-plans-widget" role="tabpanel" aria-labelledby="week-plans-widget-tab">
                            <h5 class="widget-card-title">week planer</h5>
                        </div>
                        <div class="tab-pane fade" id="list-widget" role="tabpanel" aria-labelledby="list-widget-tab">
                            <h5 class="widget-card-title">list</h5>
                        </div>
                        <!-- <div class="tab-pane fade" id="traker" role="tabpanel" aria-labelledby="traker-tab">
                            <h5 class="widget-card-title">tracker</h5>
                        </div> -->
                    </div>
                    <div class="input-form hide-class">
                        <input type="text" id="weekPlansTitleWidgetInput" class="add-input " autocomplete="off" placeholder = "">
                        <label for="weekPlansTitleWidgetInput" class="add-input_label">title</label>
                        <p id="errorText" class="hide-class input-validation-message">field is required</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn button-dark" id="addNewWidgetBtn">create</button>
                </div>
            </div>
        </div>
    </dialog>

    <dialog id="everyWeekGoalWidgetDialog" class="add-dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="everyWeekGoalWidgetModalTitleAdd">add</h5>
                    <!-- <h5 class="modal-title" id="everyWeekGoalWidgetModalTitleEdit">изменить</h5> -->
                    <button type="button" class="btn card-body__icon-button" onclick="closeTaskDialog()"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">choose day</button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"  id="myTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="week-plans-widget-tab" data-bs-toggle="tab" data-bs-target="#week-plans-widget"
                                type="button" role="tab" aria-controls="week-plans-widget" aria-selected="false" data-day-name="monday" onclick="chooseWeekDay(this)">monday</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="list-widget-tab" data-bs-toggle="tab" data-bs-target="#list-widget"
                                type="button" role="tab" aria-controls="list-widget" aria-selected="false" data-day-name="tuesday" onclick="chooseWeekDay(this)">tuesday</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="traker-tab" data-bs-toggle="tab" data-bs-target="#traker"
                                type="button" role="tab" aria-controls="traker" aria-selected="false" data-day-name="wednesday" onclick="chooseWeekDay(this)">wednesday</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="traker-tab" data-bs-toggle="tab" data-bs-target="#traker"
                                type="button" role="tab" aria-controls="traker" aria-selected="false" data-day-name="thusday" onclick="chooseWeekDay(this)">thusday</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="traker-tab" data-bs-toggle="tab" data-bs-target="#traker"
                                type="button" role="tab" aria-controls="traker" aria-selected="false" data-day-name="friday" onclick="chooseWeekDay(this)">friday</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="traker-tab" data-bs-toggle="tab" data-bs-target="#traker"
                                type="button" role="tab" aria-controls="traker" aria-selected="false" data-day-name="saturday" onclick="chooseWeekDay(this)">saturday</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="traker-tab" data-bs-toggle="tab" data-bs-target="#traker"
                                type="button" role="tab" aria-controls="traker" aria-selected="false" data-day-name="sunday" onclick="chooseWeekDay(this)">sunday</button>
                            </li>
                        </ul>
                    </div>
                    <div class="tab-content widget-content">
                        <p id="weekDayNameLabel" class="add-value-text-block" data-day-name="">no day selected</p>
                        <div class="input-group widget-list__input-block">
                            <input type="text" class="form-control widget-list__input-text"  id="everyWeekGoalWidgetContent">
                        </div>
                        <p id="errorText" class="hide-class input-validation-message">select a day and add text</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn button-dark" id="addEveryWeekGoalBtn" onclick="addTaskToEveryWeekGoalWidget()">add</button>
                    <!-- <button type="button" class="btn button-dark" id="editEveryWeekGoalBtn" onclick="editTaskToEveryWeekGoalWidget()">обновить</button> -->
                </div>
            </div>
        </div>
    </dialog>
        

    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment-with-locales.min.js" integrity="sha512-4F1cxYdMiAW98oomSLaygEwmCnIP38pb4Kx70yQYqRwLVCs3DbRumfBq82T08g/4LJ/smbFGFpmeFlQgoDccgg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- vanilla calendar -->
    <script src="https://cdn.jsdelivr.net/npm/vanilla-calendar-pro/build/vanilla-calendar.min.js" defer></script>
    <!-- dragula -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js"></script>
    <!-- rusmeteo -->
    <script async src="https://rusmeteo.net/api/informerV2/b75499d689da58d5fce2ad1837a0e347/" type="text/javascript"></script>
    <!-- js -->
    <script src="assets/calendar.js"></script>
    <script src="assets/tasks.js"></script>
    <script src="assets/elements.js"></script>
</body>
</html>